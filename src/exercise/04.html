<!-- Creating custom components -->
<!-- http://localhost:3000/isolated/exercise/04.html -->

<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.13.1/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.13.1/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.9.3/babel.js"></script>
  <script src="https://unpkg.com/prop-types@15.6/prop-types.js"></script>
  <script type="text/babel">
    // üê® Make a function called `message` which returns the JSX we want to share
    function message(props) { // could also destructure props to {children}
        return <div className="message">{props.children}</div>;
    };
    // üê® use that function in place of the divs below with:
    // üí∞ {message({children: 'Hello World'})} {message({children: 'Goodbye World'})}
    // const element = (
    //   <div className="container">
    //     {message({children: 'Hello World'})} {message({children: 'Goodbye World'})}
    //   </div>
    // );

    //////////////////////// extra credit 1 ////////////////////////
    // const element = React.createElement(message, { children: 'Hello World'});

    //////////////////////// extra credit 2 ////////////////////////
    // function Message(props) { // needs to start with uppercase to be a react component from JSX instead of using React.createElement
    //     return <div className="message">{props.children}</div>;
    // };

    // const element = ( // could also do <Message children="Hello World" />
    //   <div className="container">
    //     <Message>Hello World</Message>
    //     <Message>Goodbye World</Message>
    //   </div>
    // );

    //////////////////////// extra credit 3 ////////////////////////
    // function Message({subject, greeting}) {
    //     return (
    //         <div className="message">
    //             {greeting}, {subject}
    //         </div>
    //     );
    // };

    // // note: propTypes wont work in production so is used during development and won't cause issues in production

    // Message.propTypes = {
    //     subject(props, propName, componentName) {
    //         if (typeof props[propName] !== 'string') {
    //             return new Error(`${componentName} needs the prop ${propName} to be a string!`);
    //         }
    //     },
    //     greeting(props, propName, componentName) {
    //         let type = typeof props[propName];
    //         if (type !== 'string') {
    //             return new Error(`${componentName} needs the prop ${propName} to be a string but was passed a ${type}!`);
    //         }
    //     },
    // };

    // // an alternative way to validate (refactored from above)
    // const PropTypes = {
    //     string(props, propName, componentName) {
    //         if (typeof props[propName] !== 'string') {
    //             return new Error(`${componentName} needs the prop ${propName} to be a string!`);
    //         }
    //     },
    // }

    // Message.propTypes = {
    //     subject: PropTypes.string,
    //     greeting: PropTypes.string
    // };

    // const element = (
    //   <div className="container">
    //     <Message greeting="Hello" subject="World" />
    //     <Message greeting="Goodbye" subject="World" />
    //   </div>
    // );

    //////////////////////// extra credit 4 ////////////////////////
    function Message({subject, greeting}) {
        return (
            <div className="message">
                {greeting}, {subject}
            </div>
        );
    };

    Message.propTypes = {
        subject: PropTypes.string.isRequired,
        greeting: PropTypes.string.isRequired
    };

    // const element = (
    //   <div className="container">
    //     <Message greeting="Hello" subject="World" />
    //     <Message greeting="Goodbye" subject="World" />
    //   </div>
    // );

    //////////////////////// extra credit 5 ////////////////////////
    // could use an array instead but that would need keys, so React.Fragment is useful when dom structure is important but not
    // a true list with unique keys and you can replace <React.Fragment> with <> and </> which you may see in some codebases
    // and it does the same thing
    const element = (
      <React.Fragment>
        <Message greeting="Hello" subject="World" />
        <Message greeting="Goodbye" subject="World" />
      </React.Fragment>
    );

    // üíØ This is only the first step to making actual React components. The rest is in the extra credit!
    ReactDOM.render(element, document.getElementById('root'))
  </script>
</body>
